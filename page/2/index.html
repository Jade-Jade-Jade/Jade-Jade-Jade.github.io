<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2" />






<meta property="og:type" content="website">
<meta property="og:title" content="Jade-Jade-Jade">
<meta property="og:url" content="http://yoursite.com/page/2/index.html">
<meta property="og:site_name" content="Jade-Jade-Jade">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Jade-Jade-Jade">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/2/"/>





  <title>Jade-Jade-Jade</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Jade-Jade-Jade</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">不忘初心，方得始终</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-start">
          <a href="/categories/开篇" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            开篇
          </a>
        </li>
      
        
        <li class="menu-item menu-item-algorithm">
          <a href="/categories/算法" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            算法
          </a>
        </li>
      
        
        <li class="menu-item menu-item-information retrieval and web search engines">
          <a href="/categories/资料检索与搜索引擎" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            资料检索与搜索引擎
          </a>
        </li>
      
        
        <li class="menu-item menu-item-life">
          <a href="/categories/寻常日" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            寻常日
          </a>
        </li>
      
        
        <li class="menu-item menu-item-ai">
          <a href="/categories/AI坑" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            AI坑
          </a>
        </li>
      
        
        <li class="menu-item menu-item-blockchain">
          <a href="/categories/区块链" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            区块链
          </a>
        </li>
      
        
        <li class="menu-item menu-item-ar vr mr">
          <a href="/categories/AR-VR-MR" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            AR VR MR
          </a>
        </li>
      
        
        <li class="menu-item menu-item-software architectures">
          <a href="/categories/软件架构" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            软件架构
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/10/14/衣/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jade-Jade-Jade">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jade-Jade-Jade">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/10/14/衣/" itemprop="url">衣</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-10-14T17:53:00-07:00">
                2017-10-14
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/寻常日/" itemprop="url" rel="index">
                    <span itemprop="name">寻常日</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>好看的衣服也会让自己开心起来。<br>— 题记</p>
<blockquote>
<h4 id="店铺汇集"><a href="#店铺汇集" class="headerlink" title="店铺汇集"></a>店铺汇集</h4></blockquote>
<h5 id="Urban-Outfitters"><a href="#Urban-Outfitters" class="headerlink" title="Urban Outfitters"></a>Urban Outfitters</h5><p><a href="https://www.urbanoutfitters.com" target="_blank" rel="external">https://www.urbanoutfitters.com</a></p>
<p>第一次见到这个牌子是在Harvard Square。和橙子约着一起吃了一顿午饭，饭后开始在Harvard Square周边闲逛。一家很有意思的店面，卖衣服卖鞋帽也卖拍立得还有唱片。</p>
<p>后来又在纽约遇到，才意识到这是一家连锁店。来到洛杉矶，无车的自己开始怀念当时在波屯没事走走停停逛逛街的日子。</p>
<p>网店的种类其实也很多,但是少了一种在实体店淘货的感觉。</p>
<h5 id="百武西"><a href="#百武西" class="headerlink" title="百武西"></a>百武西</h5><p><a href="https://bioliving.tmall.com/shop/view_shop.htm?spm=a230r.1.14.6.56789e33pjTecE&amp;user_number_id=183714984" target="_blank" rel="external">淘宝旗舰店链接</a></p>
<p>初识百武西是在家乡的八佰伴闲逛的时候发现的。扶手电梯的转角。复古文艺的摆设把我一下子就吸引过去。这是个向30年代致敬的生活品牌。它用的模特面目没有棱角分明，身材也没有那么前凸后翘，却一个个就像从书本里缓缓走出来的女学生一般，有着那个年龄独有的精致和年轻。</p>
<p>有天猫京东官网，依旧独爱在店里一件件细细品读。</p>
<h5 id="amp-Other-Stories"><a href="#amp-Other-Stories" class="headerlink" title="&amp; Other Stories"></a>&amp; Other Stories</h5><p><a href="https://www.stories.com/us/Ready-to-wear" target="_blank" rel="external">https://www.stories.com/us/Ready-to-wear</a></p>
<p>h&amp;m旗下的品牌。年轻时尚价格亲民。暂时mark还未购买过。</p>
<h5 id="Zara"><a href="#Zara" class="headerlink" title="Zara"></a>Zara</h5><p>价格迷人也有点时尚，觉得质量没有那么感人。只买过它家一个黑裤子。</p>
<h5 id="Pixie-Market"><a href="#Pixie-Market" class="headerlink" title="Pixie Market"></a>Pixie Market</h5><p><a href="https://www.pixiemarket.com/" target="_blank" rel="external">https://www.pixiemarket.com/</a></p>
<p>高街品牌，潮。第一次看到一下心水卖了几件。但是觉得质量对不起价格。不会再买。</p>
<h5 id="DKNY"><a href="#DKNY" class="headerlink" title="DKNY"></a>DKNY</h5><p><a href="https://www.dkny.com/us/sets/clothing-view-all" target="_blank" rel="external">https://www.dkny.com/us/sets/clothing-view-all</a></p>
<p>最新发现的身处奥特莱斯中的好店。</p>
<h5 id="Tommy"><a href="#Tommy" class="headerlink" title="Tommy"></a>Tommy</h5><p><a href="http://usa.tommy.com/en/NEWARRIVALS-WOMEN" target="_blank" rel="external">http://usa.tommy.com/en/NEWARRIVALS-WOMEN</a></p>
<blockquote>
<h4 id="性冷淡风"><a href="#性冷淡风" class="headerlink" title="性冷淡风"></a>性冷淡风</h4></blockquote>
<p>有时候想涂一次红唇，或是买了一个新包，性冷淡风的服装便让这些点缀显得格外的显眼。<br>同时，这又是最好的商务休闲，简单随性大方。</p>
<p>不过觉得，一些性冷淡风风格却不冷淡的衣服更需要在实体店中尝试和搭配。</p>
<h5 id="优衣库"><a href="#优衣库" class="headerlink" title="优衣库"></a>优衣库</h5><p>在国内的时候我一次都没有买过，也是很奇怪。第一次买它居然是在美国，而且那次一逛就停不下来一次剁手了好多件。我并不算是优衣库的常客，有且只有一次夏装的购买经验。但是也算是给自己种草了这个牌子吧。</p>
<h5 id="Everlane"><a href="#Everlane" class="headerlink" title="Everlane"></a>Everlane</h5><p><a href="https://www.everlane.com/collections/womens-all" target="_blank" rel="external">https://www.everlane.com/collections/womens-all</a></p>
<p>自己还没有购买过，但是逛官网的时候觉得不错的样子，价格也不是特别贵。</p>
<h5 id="Cos"><a href="#Cos" class="headerlink" title="Cos"></a>Cos</h5><p><a href="https://www.cosstores.com/us/" target="_blank" rel="external">https://www.cosstores.com/us/</a></p>
<p>第一次试是大四去美国前在合肥某家商场闲逛时被朋友安利的。到了美国才后知后觉的意识到原来是h&amp;m旗下的品牌。好看但是觉得要去实体店试，不大敢直接在网上剁手。</p>
<h5 id="Acne-Studios"><a href="#Acne-Studios" class="headerlink" title="Acne Studios"></a>Acne Studios</h5><p><a href="http://www.acnestudios.com/us/en/woman/outerwear/" target="_blank" rel="external">http://www.acnestudios.com/us/en/woman/outerwear/</a></p>
<p>定价略高，不过看官网确实是我的菜。价位真的有点高啊….要努力….</p>
<h5 id="frankandoak"><a href="#frankandoak" class="headerlink" title="frankandoak"></a>frankandoak</h5><p><a href="https://www.frankandoak.com/women/featured/new-in" target="_blank" rel="external">https://www.frankandoak.com/women/featured/new-in</a></p>
<blockquote>
<h4 id="鞋子"><a href="#鞋子" class="headerlink" title="鞋子"></a>鞋子</h4></blockquote>
<h5 id="Keds"><a href="#Keds" class="headerlink" title="Keds"></a>Keds</h5><p><a href="http://www.keds.com/en/home" target="_blank" rel="external">http://www.keds.com/en/home</a></p>
<p>美帝老北京布鞋替代款….对，我是老北京布鞋脑残粉….</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/10/02/网络爬虫初识/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jade-Jade-Jade">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jade-Jade-Jade">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/10/02/网络爬虫初识/" itemprop="url">网络爬虫初识 Web-Crawling</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-10-02T13:39:17-07:00">
                2017-10-02
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/资料检索与搜索引擎/" itemprop="url" rel="index">
                    <span itemprop="name">资料检索与搜索引擎</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><img src="https://jade-jade-jade.github.io/image/Crawling001.jpg" alt="image"><br><img src="https://jade-jade-jade.github.io/image/Crawling002.jpg" alt="image"><br><img src="https://jade-jade-jade.github.io/image/Crawling003.jpg" alt="image"><br><img src="https://jade-jade-jade.github.io/image/Crawling004.jpg" alt="image"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/09/25/去重/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jade-Jade-Jade">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jade-Jade-Jade">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/09/25/去重/" itemprop="url">去重 De-Duplication</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-09-25T20:51:02-07:00">
                2017-09-25
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/资料检索与搜索引擎/" itemprop="url" rel="index">
                    <span itemprop="name">资料检索与搜索引擎</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<h4 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h4></blockquote>
<p><strong>De-duplication</strong> – the process of identifying and avoiding essentially identical web pages</p>
<p>With respect to web crawling, de-duplication essentially refers to the identification of identical and nearly identical web pages and indexing <strong>only a single version to return as a search result</strong></p>
<p>对于相同或者相近的网页，只留下一个版本</p>
<p>[例子]</p>
<ul>
<li>the URL’s host name can be distinct (virtual hosts), </li>
<li>the URL’s protocol can be distinct (http, https), </li>
<li>the URL’s path and/or page name can be distinct</li>
</ul>
<p><strong>不同的地址指向相同的网站</strong></p>
<p><a href="http://maps.google.com" target="_blank" rel="external">http://maps.google.com</a><br><a href="https://www.google.com/maps" target="_blank" rel="external">https://www.google.com/maps</a></p>
<p><strong>相类似的网站</strong></p>
<p>比如一个网页前后相隔几秒的版本</p>
<p><strong>镜像</strong></p>
<p>Mirroring is the systematic replication of web pages across hosts.<br>是造成duplicate的一个重要原因</p>
<p>Host1/α and Host2/β are mirrors iff：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">For all (or most) paths p such that http://Host1/α/p exists </div><div class="line">when http://Host2/β/p exists as well </div><div class="line">with identical (or near identical) content, and vice versa.</div></pre></td></tr></table></figure></p>
<p>例如 <a href="https://www.apache.org/dyn/closer.cgi" target="_blank" rel="external">https://www.apache.org/dyn/closer.cgi</a></p>
<p>[解释]</p>
<ul>
<li>在云计算中也经常提到De-duplication的概念，但是与此处所说的并不一样</li>
</ul>
<blockquote>
<h4 id="解决Duplication-Near-Duplication的问题"><a href="#解决Duplication-Near-Duplication的问题" class="headerlink" title="解决Duplication/Near-Duplication的问题"></a>解决Duplication/Near-Duplication的问题</h4></blockquote>
<h5 id="Duplication"><a href="#Duplication" class="headerlink" title="Duplication"></a>Duplication</h5><p>[方法] compute fingerprints using cryptographic hashing, 如 SHA-1 和 MD5。有序排列，方便查找logN</p>
<h5 id="Near-Duplication"><a href="#Near-Duplication" class="headerlink" title="Near-Duplication"></a>Near-Duplication</h5><p>[方法] compute the syntactic similarity, and use a similarity threshold to detect near-duplicates</p>
<p>这里具体介绍两种方法</p>
<ul>
<li><strong>通过计算w-Shingles和Jaccard Similarity来得到相似度</strong></li>
</ul>
<p>[<strong>参考视频</strong>] <a href="https://www.youtube.com/watch?v=bQAYY8INBxg" target="_blank" rel="external">https://www.youtube.com/watch?v=bQAYY8INBxg</a><br>[<strong>视频笔记</strong>]<br><img src="https://jade-jade-jade.github.io/image/Identifying_Duplicates001.jpg" alt="image"><br><img src="https://jade-jade-jade.github.io/image/Identifying_Duplicates002.jpg" alt="image"><br><img src="https://jade-jade-jade.github.io/image/Identifying_Duplicates003.jpg" alt="image"><br><img src="https://jade-jade-jade.github.io/image/Identifying_Duplicates004.jpg" alt="image"></p>
<ul>
<li><strong>通过fingerprints来计算similarity</strong><br>[<strong>SimHash</strong>] Simhash is one where similar items are hashed to similar hash values<br>(by similar we mean the <strong>bitwise Hamming distance</strong> between hash values)<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">pick a hashsize, lets say 32 bits</div><div class="line">let V = [0] * 32  # (ie a vector of 32 zeros)</div><div class="line">break the input phrase up into shingles. e.g.</div><div class="line">	&apos;the cat sat on the mat&apos;.shingles(2) </div><div class="line">	=&gt;#&lt;Set: &#123;&quot;th&quot;, &quot;he&quot;, &quot;e &quot;, &quot; c&quot;, &quot;ca&quot;, &quot;at&quot;, &quot;t &quot;, &quot; s&quot;, &quot;sa&quot;, &quot; o&quot;, &quot;on&quot;, &quot;n &quot;, &quot; t&quot;, &quot; m&quot;, &quot;ma&quot;&#125;&gt; </div><div class="line">hash each feature using a normal 32-bit hash algorithm. e.g.</div><div class="line">	&quot;th&quot;.hash = -502157718 &quot;he&quot;.hash = -369049682 ... </div><div class="line">for each hash</div><div class="line">	if bit_i of hash is set then add 1 to V[i]</div><div class="line">	if bit_i of hash is not set then take 1 from V[i]</div><div class="line">simhash bit_i is 1 if V[i] &gt; 0 and 0 otherwise</div></pre></td></tr></table></figure>
</li>
</ul>
<p>[<strong>通过SimHash找到相似的页面</strong>]</p>
<ul>
<li>如果两个SimHash的Hamming distance相近，则如果将所有SimHash有序排列，它们会位于比较相近的位置</li>
<li>数字位左移或者右移相同的位置，其相对Hamming distance不改变<br>因此可以这样做<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">rotate the bits B times (B is the length of vector)</div><div class="line">	sort</div><div class="line">	check adjancent</div></pre></td></tr></table></figure>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/09/25/搜索引擎的评估/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jade-Jade-Jade">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jade-Jade-Jade">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/09/25/搜索引擎的评估/" itemprop="url">搜索引擎的评估 Search Engine Evaluation</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-09-25T14:46:03-07:00">
                2017-09-25
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/资料检索与搜索引擎/" itemprop="url" rel="index">
                    <span itemprop="name">资料检索与搜索引擎</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <script type="text/x-mathjax-config">
MathJax.Hub.Config({
tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
});
</script>
<script type="text/javascript" async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
</script>

<blockquote>
<h4 id="How-do-we-measure-the-quality-of-search-engines"><a href="#How-do-we-measure-the-quality-of-search-engines" class="headerlink" title="How do we measure the quality of search engines?"></a>How do we measure the quality of search engines?</h4></blockquote>
<p>Recall and Precision（召回率和精确率）</p>
<p>$$Precision = \frac{relevant{\space}items{\space}retrieved}{all{\space}retrieved{\space}items}$$ $$Recall = \frac{relevant{\space}items{\space}retrieved}{all{\space}relevant{\space}items}$$ </p>
<table>
<thead>
<tr>
<th>—</th>
<th>Relevant</th>
<th>Nonrelevant</th>
</tr>
</thead>
<tbody>
<tr>
<td>Retrived</td>
<td>True Positive(tp)</td>
<td>False Positive(fp)</td>
</tr>
<tr>
<td>Not Retrived</td>
<td>False Negative(fn)</td>
<td>True Negative(tn)</td>
</tr>
</tbody>
</table>
<p>$$Precision = \frac{tp}{tp+fp}$$ $$Recall = \frac{tp}{tp+fn}$$ $$Accuracy = \frac{tp+tn}{tp+fp+fn+tn}$$</p>
<p><strong>[解释]</strong>: 这里的positive相当于积极的评价，也就是retrive；negative表示消极的评价，也就是没有取回。因此true positive表示该判断正确结果确实是相关的，false negative表示该消极的判断错误，结果其实是相关的。</p>
<p><strong>[准确率]</strong>: \(Accuracy = \frac{tp+tn}{tp+fp+fn+tn}\) 但是通常我们并不会用准确率来作为评判的标准</p>
<p><strong>[有意思的一段分析]</strong>:<br>The advantage of having the two numbers for precision and recall is that one is more important than the other in many circumstances.<br>Typical web surfers would like every result on the first page to be relevant (high precision) but have not the slightest interest in knowing let alone looking at every document that is relevant.<br><strong>在web applications中, Precision is more important than Recall</strong><br>In contrast, various professional searchers such as paralegals and intelligence analysts are very concerned with trying to get as high recall as possible, and will tolerate fairly low precision results in order to get it.<br><strong>在专业搜索中，我们更关注高的召回率，为了达到这个目的可以忍受相对低的精确度</strong><br>Individuals searching their hard disks are also often interested in high recall searches.<br><strong>硬盘搜索中也期待有高的召回率</strong><br>Nevertheless, the two quantities clearly trade off against one another: you can always get a recall of 1 (but very low precision) by retrieving all documents for all queries! Recall is a non-decreasing function of the number of documents retrieved. On the other hand, in a good system, precision usually decreases as the number of documents retrieved is increased. In general we want to get some amount of recall while tolerating only a certain percentage of false positives.<br><strong>不管怎么说，Precision和Recall是相互牵制的。你总是可以通过取回尽量多的文件来达到高的召回率，比如说每次都取回所有的文件则召回率总是1。但是这时候精确度就很低了。在一个好的系统中，往往精确度随着召回数的增加而降低，不过通常我们忍受一定程度的fp来达到较好的召回率</strong></p>
<blockquote>
<h4 id="Pythagorean-Mean"><a href="#Pythagorean-Mean" class="headerlink" title="Pythagorean Mean"></a>Pythagorean Mean</h4></blockquote>
<ul>
<li><strong>Arithmetic Mean 算数平均数</strong></li>
</ul>
<p>$$A=\frac{1}{n}\sum_{i=1}^n{x_i}$$</p>
<ul>
<li><strong>Geometric Mean 几何平均数</strong></li>
</ul>
<p>$$G = \sqrt[n] {x_1x_2…x_n}$$</p>
<ul>
<li><strong>Harmonic Mean 调和平均数</strong></li>
</ul>
<p>$$H = {(\frac{\sum_{i=1}^n{x_i^{-1}}}{n})}^{-1}$$</p>
<blockquote>
<h4 id="F-Measure"><a href="#F-Measure" class="headerlink" title="F Measure"></a>F Measure</h4></blockquote>
<p><strong>weighted harmonic mean of precision and recall</strong></p>
<p>$$F = \frac{1}{\alpha\frac{1}{P}+(1-\alpha)\frac{1}{R}}<br>    = \frac{({\beta}^2+1)PR}{\beta^2P+R}, \space\space\space {\beta}^2=\frac{1-\alpha}{\alpha} $$</p>
<ul>
<li><strong>Balanced \(F_1\)measure</strong>: with \(\beta=1\), \(F=\frac{2PR}{P+R}\)</li>
<li><strong>Values of \(\beta&lt;1\) emphasize precision</strong></li>
<li><strong>Values of \(\beta&gt;1\) emphasize recall</strong></li>
</ul>
<blockquote>
<h4 id="Calculating-Recall-Precision-at-Fixed-Positions"><a href="#Calculating-Recall-Precision-at-Fixed-Positions" class="headerlink" title="Calculating Recall/Precision at Fixed Positions"></a>Calculating Recall/Precision at Fixed Positions</h4></blockquote>
<p>上面所介绍的Precision, recall和F measure都是<strong>set-based measure</strong>。也就是说用于计算<strong>unordered set of documents</strong>。<br>而典型的搜索引擎所给出的结果是有一定顺序的。这一小节将介绍如何评估<strong>ranked results</strong>。</p>
<ul>
<li><strong>Average Precision of the Revelant Documents</strong></li>
</ul>
<p>[例子]</p>
<p>Revelant documents = 6</p>
<table>
<thead>
<tr>
<th>RANK</th>
<th>Relevant OR Nonrelevant</th>
<th>Recall</th>
<th>Precision</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>R</td>
<td>0.17</td>
<td>1.0</td>
</tr>
<tr>
<td>2</td>
<td>N</td>
<td>0.17</td>
<td>0.5</td>
</tr>
<tr>
<td>3</td>
<td>R</td>
<td>0.33</td>
<td>0.67</td>
</tr>
<tr>
<td>4</td>
<td>R</td>
<td>0.5</td>
<td>0.75</td>
</tr>
<tr>
<td>5</td>
<td>R</td>
<td>0.67</td>
<td>0.8</td>
</tr>
<tr>
<td>6</td>
<td>R</td>
<td>0.83</td>
<td>0.83</td>
</tr>
<tr>
<td>7</td>
<td>N</td>
<td>0.83</td>
<td>0.71</td>
</tr>
<tr>
<td>8</td>
<td>N</td>
<td>0.83</td>
<td>0.63</td>
</tr>
<tr>
<td>9</td>
<td>N</td>
<td>0.83</td>
<td>0.56</td>
</tr>
<tr>
<td>10</td>
<td>R</td>
<td>1.0</td>
<td>0.6</td>
</tr>
</tbody>
</table>
<p>Average Precision of the Revelant Documents = (1.0+0.67+0.75+0.8+0.83+0.6)/5 = 0.78</p>
<ul>
<li><strong>Averaging Across Queries</strong></li>
</ul>
<p>上面那个例子是一个query，如何评估多个query呢？</p>
<p>[方法一]<br>仿照上面的方法 (所有Revelant Documents的Precision求和)/(Relevant documents的总数目)<br><img src="https://Jade-Jade-Jade.github.io/image/SearchEngineEvaluation001.png" alt="image"></p>
<p>$$(1 + .67 + .5 + .44 + .5 + .5 + .4 + .43)/8 = 0.55$$</p>
<p>[方法二]<br><strong>Mean Average Precision (MAP)</strong><br>这个方法是research papers中最常用的方法<br>$$MAP=\frac{\sum_{q=1}^Q{Avg{P(q)}}}{Q}, \space\space Q=number\space of\space queries$$<br><img src="https://Jade-Jade-Jade.github.io/image/SearchEngineEvaluation002.png" alt="image"><br>$$AvgP(1)=(1.0+0.67+0.5+0.44+0.5)/5=0.62$$ $$AvgP(2)=(0.5+0.4+0.43)/3=0.44$$ $$MAP=(0.62+0.44)/2=0.53$$</p>
<p>利用MAP评估搜索引擎的缺点：</p>
<ol>
<li>Marco-averaging: Each query counts equally 也就是说每个query的重要度都是一样的</li>
<li>MAP assumes user is interested in finding many revelant documents for each query [不是很懂]</li>
<li>MAP requires many relevance judgments in documents collection</li>
</ol>
<blockquote>
<h4 id="Discounted-Cumulative-Gain"><a href="#Discounted-Cumulative-Gain" class="headerlink" title="Discounted Cumulative Gain"></a>Discounted Cumulative Gain</h4></blockquote>
<p>The premise of DCG is that highly relevant documents appearing lower in a seach result list should be penalized as the graded relevance value is reduced logarithmically proportional to the position of the result.<br>这个方法的基本思想是:<br>如果一个相关文档出现在结果列表中靠后的位置，那么应该给予相应的惩罚。越靠后惩罚越大。</p>
<p><img src="https://Jade-Jade-Jade.github.io/image/SearchEngineEvaluation003.png" alt="image"><br>[例子]<br><img src="https://Jade-Jade-Jade.github.io/image/SearchEngineEvaluation004.png" alt="image"></p>
<blockquote>
<h4 id="基于Precision和Recall方法的局限性。"><a href="#基于Precision和Recall方法的局限性。" class="headerlink" title="基于Precision和Recall方法的局限性。"></a>基于Precision和Recall方法的局限性。</h4></blockquote>
<ul>
<li>Should average over large document collection and query ensembles</li>
<li>Need human relevance assessments<br>  需要人来判断是否相关，这并不是很可靠的</li>
<li>Assessments have to be binary<br>  对相关性的评价是非黑即白</li>
<li>Heavily skewed by collection/authorship<br>  不同的领域有可能会有不同的结果，不具有普遍性</li>
</ul>
<blockquote>
<h4 id="Non-­relevance-­based-measures"><a href="#Non-­relevance-­based-measures" class="headerlink" title="Non-­relevance-­based measures"></a>Non-­relevance-­based measures</h4></blockquote>
<p>搜索引擎也会使用不基于相关性的方法</p>
<ul>
<li>Click-through on ﬁrst result: Not very reliable if you look at a single click-through … but pretty reliable in the aggregate.</li>
<li>Studies of user behavior in the lab</li>
<li>A/B testing</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/09/20/倒排索引-Inverted-Indexing/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jade-Jade-Jade">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jade-Jade-Jade">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/09/20/倒排索引-Inverted-Indexing/" itemprop="url">倒排索引_Inverted_Indexing</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-09-20T14:24:56-07:00">
                2017-09-20
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/资料检索与搜索引擎/" itemprop="url" rel="index">
                    <span itemprop="name">资料检索与搜索引擎</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<h4 id="Definition-of-an-Inverted-index"><a href="#Definition-of-an-Inverted-index" class="headerlink" title="Definition of an Inverted index"></a>Definition of an Inverted index</h4><p>An inverted index is typically composed of a vector containing all distinct words of the text collection in lexicographical order (which is called the vocabulary) and <strong>for each word in the vocabulary, a list of all documents (and text positions) in which that word occurs</strong></p>
</blockquote>
<p><strong>通俗的说: 单词到包括该单词的文档的集合的映射。</strong></p>
<p>注释: 这里的单词可能是被处理过的，一些常用的处理方法有</p>
<ul>
<li><strong>Case folding</strong>: converting all uppercase letters to lower case</li>
<li><strong>Stemming</strong>: reducing words to their morphological root</li>
<li><strong>Stop words</strong>: removing words that are so common they provide no information</li>
</ul>
<blockquote>
<h4 id="Inverted-index-的应用情景"><a href="#Inverted-index-的应用情景" class="headerlink" title="Inverted index 的应用情景"></a>Inverted index 的应用情景</h4></blockquote>
<p>假设有这样一个Query:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Which plays of Shakespeare contain the words Brutus AND Caesar but NOT Calpurnia?</div></pre></td></tr></table></figure>
<h5 id="方法一-暴力搜索"><a href="#方法一-暴力搜索" class="headerlink" title="方法一 暴力搜索"></a>方法一 暴力搜索</h5><p>先找到所有包含Brutus和Caesar的话剧，再逐字排查，如果含有Caplurnia就删除掉该话剧。</p>
<p><strong>缺点：</strong> </p>
<ul>
<li>Too slow</li>
<li>需要很大的空间</li>
<li>不够灵活，不支持其他的操作，比如”Find the word Romans near countrymen”</li>
</ul>
<h5 id="方法二：-Term-Document-Incidence-Matrix"><a href="#方法二：-Term-Document-Incidence-Matrix" class="headerlink" title="方法二： Term-Document Incidence Matrix"></a>方法二： Term-Document Incidence Matrix</h5><p>用了  Bit Map 位运算的思想。构建如下矩阵，(t,d)=1代表term t在document d中出现，0代表没有出现。例如：</p>
<p><img src="https://jade-jade-jade.github.io/image/InvertedIndex001.jpg" alt="image"></p>
<p>这样对于上一个查询，只需要</p>
<p>110100 AND 110111 AND 10111 = 100100</p>
<p>所以the two plays matching the query are:</p>
<p>“Anthony and Cleopatra”, “Hamlet”</p>
<p><strong>缺点：</strong> </p>
<ul>
<li>需要很大的空间,并且矩阵通常十分稀疏:</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Given 1 million documents and 500,000 terms.</div><div class="line">The (term x Document) matrix in this case will have size 500K x 1M or</div><div class="line">half-a-trillion 0’s and 1’s.</div></pre></td></tr></table></figure>
<h5 id="方法三：-Inverted-Index"><a href="#方法三：-Inverted-Index" class="headerlink" title="方法三： Inverted Index"></a>方法三： Inverted Index</h5><p>在数据结构上我们选择了链表而不是数组，链表的优势在于：</p>
<ul>
<li>Dynamic space allocation</li>
<li>Insertion of terms into documents easy</li>
<li>There is space overhead of pointers, though this is not too serious</li>
</ul>
<p><strong>Inverted Index的构建如下图所示</strong><br><img src="https://Jade-Jade-Jade.github.io/image/InvertedIndex002.jpeg" alt="image"><br><img src="https://Jade-Jade-Jade.github.io/image/InvertedIndex003.jpeg" alt="image"></p>
<p><strong>应用举例：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line">1）Brutus AND Caesar</div><div class="line">- Locate Brutus in the Dictionary and Retrieve its postings.</div><div class="line">Brutus: 2-&gt;4-&gt;8-&gt;16-&gt;32-&gt;64-&gt;128</div><div class="line">- Locate Caesar in the Dictionary and Retrieve its postings.</div><div class="line">Caesar: 1-&gt;2-&gt;3-&gt;5-&gt;8-&gt;13-&gt;21-&gt;34</div><div class="line">- “Merge” the two postings and select the ones in common (postings are document ids):</div><div class="line">Brutus: 2-&gt;4-&gt;8-&gt;16-&gt;32-&gt;64-&gt;128</div><div class="line">Caesar: 1-&gt;2-&gt;3-&gt;5-&gt;8-&gt;13-&gt;21-&gt;34</div><div class="line">2-&gt;8</div><div class="line">O(m + n) 复杂度</div><div class="line"></div><div class="line">2）Brutus AND Calpurnia AND Caesar</div><div class="line">Brutus: 2-&gt;4-&gt;8-&gt;16</div><div class="line">Caesar: 1-&gt;2-&gt;3-&gt;5-&gt;8-&gt;13-&gt;21-&gt;34</div><div class="line">Calpurnia: 2-&gt;16</div><div class="line">Merge的顺序要从短到长依次进行</div><div class="line">Execute the query as (Calpurnia AND Brutus) AND Caesar.</div><div class="line"></div><div class="line">INTERSECT(&lt;t1, . . . , tn&gt;)</div><div class="line">   terms ← SORTBYINCREASINGFREQUENCY(&lt;t1, . . . , tn&gt;)</div><div class="line">   result ← postings( first(terms))</div><div class="line">   terms ← rest(terms)</div><div class="line">   while terms /= NIL and result /= NIL</div><div class="line">   do</div><div class="line">       result ← INTERSECT(result, postings(first(terms)))</div><div class="line">       terms ← rest(terms)</div><div class="line">   return result</div><div class="line"></div><div class="line">印象中有算法解决Merge K sorted list复杂度可以到nklogk(n为链表的平均长度）</div><div class="line">[LeetCode参考: https://leetcode.com/problems/merge-k-sorted-lists/description/]</div><div class="line">书本并没有采取这种算法可能有原因的：</div><div class="line">- 在实际情况中这些个链表的长度一点也不平均</div><div class="line">- 只需要最短的那个链表给merge结束就完事了我们并不需要完完整整的merge。</div></pre></td></tr></table></figure>
<blockquote>
<h4 id="Skip-Pointers"><a href="#Skip-Pointers" class="headerlink" title="Skip Pointers"></a>Skip Pointers</h4></blockquote>
<p><a href="https://www.youtube.com/watch?v=tPsCQOsa7j0" target="_blank" rel="external">相关视频讲解</a></p>
<p><strong>目的： speed up the merging of postings</strong></p>
<p><strong>方法解释</strong>：如图所示<br><img src="https://Jade-Jade-Jade.github.io/image/InvertedIndex004.jpeg" alt="image"></p>
<p><strong>算法</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">INTERSECTWITHSKIPS (p1, p2)</div><div class="line">	answer ← &lt; &gt;</div><div class="line">	while p1 /= NIL and p2 /= NIL</div><div class="line">	do if docID(p1) == docID(p2)</div><div class="line">        then ADD(answer, docID(p1))</div><div class="line">            p1 &lt;- next(p1)</div><div class="line">            p2 &lt;- next(p2)</div><div class="line">        else if docID(p1) &lt; docID(p2)</div><div class="line">                then if hasSkip(p1) and (docID(skip(p1)) &lt;= docID(p2))</div><div class="line">                     then while hasSkip(p1) and (docID(skip(p1) &lt;= docID(p2))</div><div class="line">                       do p1 &lt;- skip(p1)</div><div class="line">                    else p1 &lt;- next(p1)</div><div class="line">				else if hasSkip(p2) and (docID(skip(p2)) &lt;= docID(p1))</div><div class="line">                    then while hasSkip(p2) and (docID(skip(p2) &lt;= docID(p1))</div><div class="line">                       do p2 &lt;- skip(p2)</div><div class="line">                    else p2 &lt;- next(p2)</div><div class="line">	return answer</div></pre></td></tr></table></figure>
<p><strong>适用范围：</strong> </p>
<ol>
<li>Index 相对固定 update的次数比较少: Building effective skip pointers is easy if an index is relatively static; it is harder if a postings list keeps changing because of updates. A malicious deletion strategy can render skip lists ineffective.</li>
<li>the presence of skip pointers only helps for AND queries, not for OR queries.</li>
</ol>
<p><strong>问题： How many skip pointers should we add?</strong></p>
<ol>
<li>TradeOff Problem:</li>
</ol>
<ul>
<li>More skips -&gt; shorter skip span =&gt; more likely to skip. But lots of comparision to skip pointers</li>
<li>Fewer skips -&gt; few pointer comparision, but then long skip spans =&gt; few successful skips</li>
</ul>
<ol>
<li>Simple Heuristic</li>
</ol>
<ul>
<li>用Length的平方根: for a postings list of length P, use sqrt{P} evenly-spaced skip pointers.</li>
</ul>
<blockquote>
<h4 id="硬件对速度的影响"><a href="#硬件对速度的影响" class="headerlink" title="硬件对速度的影响"></a>硬件对速度的影响</h4></blockquote>
<p>Choosing the optimal encoding for an inverted index is an ever-changing game for the system builder, because it is strongly dependent on underlying computer technologies and their relative speeds and sizes. Traditionally, CPUs were slow, and so highly compressed techniques were not optimal. Now CPUs are fast and disk is slow, so reducing disk postings list size dominates. However, if you’re running a search engine with everything in memory then the equation changes again.</p>
<blockquote>
<h4 id="Phrase-Queries"><a href="#Phrase-Queries" class="headerlink" title="Phrase Queries"></a>Phrase Queries</h4></blockquote>
<p>之前所说的inverted index技术是基于Term的，但是在实际运用中我们经常会查询一个短语，而不是单词，比如：stanford university</p>
<p>这里阐述两个方法</p>
<h5 id="方法一：-Bi-word-indexes-2-grams-2-shingles"><a href="#方法一：-Bi-word-indexes-2-grams-2-shingles" class="headerlink" title="方法一： Bi-word indexes (2-grams, 2 shingles)"></a>方法一： Bi-word indexes (2-grams, 2 shingles)</h5><p><strong>方法介绍</strong></p>
<ul>
<li>A bi-word (or a 2-gram) is a consecutive pair of terms in some text。比如 “Friends, Romans, Countrymen” 会生成 “friends romans” 和 “romans countrymen”</li>
<li>Each of these bi-words is now added to the dictionary as a term。也就是说之前的Term变成了现在的bi-words。</li>
</ul>
<p><strong>缺点</strong></p>
<ul>
<li>数量爆炸！Bi-words will cause an explosion in the vocabulary database</li>
<li>短语长度也许大于2。Queries longer than 2 words will have to be broken into bi-word segments</li>
</ul>
<h5 id="方法二：-Positional-indexes"><a href="#方法二：-Positional-indexes" class="headerlink" title="方法二： Positional indexes"></a>方法二： Positional indexes</h5><p><strong>方法介绍</strong></p>
<p>相比于之前的inverted index, 这里其实就是多记录了一个Term出现的位置位置：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;Term, TotalFrequency&gt; -&gt; &lt;docID, Frequency&gt; </div><div class="line">变成</div><div class="line">&lt;Term, TotalFrequency&gt; -&gt; &lt;docID, Frequency, Positions&gt;</div></pre></td></tr></table></figure></p>
<p><img src="https://Jade-Jade-Jade.github.io/image/InvertedIndex005.jpeg" alt="image"></p>
<p>比方说我们要查询</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">to be or not to be</div></pre></td></tr></table></figure>
<p>现在我们首先找to be, 步骤如下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">1. 找到同时含有to和be两个term的文档。</div><div class="line">2. 查找两个term在文档中的位置，如果be的位置在to后面一个，那就找到了一个结果</div><div class="line">比如上面那个图，我们就能找到一个possible match是</div><div class="line">to: &lt;...;4:&lt;...,429,433&gt;;...&gt;</div><div class="line">be: &lt;...;4:&lt;...,430,434&gt;;...&gt;</div></pre></td></tr></table></figure>
<p><strong>算法</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">POSITIONALINTERSECT(p1, p2, k)</div><div class="line">    answer &lt;- &lt;&gt;</div><div class="line">    while p1 /= NIL and p2 /= NIL</div><div class="line">    do if docID(p1) == docID(p2)</div><div class="line">        then l &lt;- &lt;&gt;</div><div class="line">            pp1 &lt;- positions(p1)</div><div class="line">            pp2 &lt;- positions(p2)</div><div class="line">            while pp1 /= NIL</div><div class="line">            do while pp2 /= NIL</div><div class="line">                do if |pos(pp1) - pos(pp2)| &lt;= k</div><div class="line">                    then ADD(l, pos(pp2))</div><div class="line">                    else if pos(pp2) &gt; pos(pp1)</div><div class="line">                        the break</div><div class="line">                    pp2 &lt;- next(pp2)</div><div class="line">                while l /= &lt;&gt; and |l[0] - pos(pp1)| &gt; k</div><div class="line">                do DELETE(l[0])</div><div class="line">                for each ps in l</div><div class="line">                do ADD(answer, &lt;docID(p1), pos(pp1), ps&gt;)</div><div class="line">                pp1 &lt;- next(pp1)</div><div class="line">            p1 &lt;- next(p1)</div><div class="line">            p2 &lt;- next(p2)</div><div class="line">        else if docID(p1) &lt; docID(p2)</div><div class="line">            then p1 &lt;- next(p1)</div><div class="line">            else p2 &lt;- next(p2)</div><div class="line">    return answer</div></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/09/17/【算法导论32】字符串匹配/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jade-Jade-Jade">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jade-Jade-Jade">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/09/17/【算法导论32】字符串匹配/" itemprop="url">【算法导论32】字符串匹配</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-09-17T21:06:34-07:00">
                2017-09-17
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/算法/" itemprop="url" rel="index">
                    <span itemprop="name">算法</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<h4 id="算法导论-32-String-Matching"><a href="#算法导论-32-String-Matching" class="headerlink" title="算法导论 32. String Matching"></a>算法导论 32. String Matching</h4><p>恰逢最近在学习搜索引擎，又提及了字符串处理的只是，便想起来读一次算法导论的32章并且留下笔记。日后再总结其他。</p>
<p>书本中介绍了四个方法。分别为：</p>
<p>Naive string-matching algorithm (暴力)</p>
<p>The Rabin-Karp algorithm</p>
<p>Finite automata</p>
<p>KMP</p>
<p>笔记如下:</p>
</blockquote>
<p><img src="https://raw.githubusercontent.com/Jade-Jade-Jade/Jade-Jade-Jade.github.io/master/image/%5B算法导论32%5D001.jpeg" alt="image"><br><img src="https://raw.githubusercontent.com/Jade-Jade-Jade/Jade-Jade-Jade.github.io/master/image/%5B算法导论32%5D002.jpeg" alt="image"><br><img src="https://raw.githubusercontent.com/Jade-Jade-Jade/Jade-Jade-Jade.github.io/master/image/%5B算法导论32%5D003.jpeg" alt="image"><br><img src="https://raw.githubusercontent.com/Jade-Jade-Jade/Jade-Jade-Jade.github.io/master/image/%5B算法导论32%5D004.jpeg" alt="image"></p>
<blockquote>
<p>参考:</p>
</blockquote>
<p>算法导论<br>以及 <a href="https://niuye.info/fms-kmp/" target="_blank" rel="external">https://niuye.info/fms-kmp/</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/08/11/不忘初心/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jade-Jade-Jade">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jade-Jade-Jade">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/08/11/不忘初心/" itemprop="url">不忘初心</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-08-11T12:01:47-07:00">
                2017-08-11
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/开篇/" itemprop="url" rel="index">
                    <span itemprop="name">开篇</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>一个一直在琢磨着如何转行却在码农圈越陷越深的伪程序员为自己博客写的一篇前言。</p>
<p>27岁之前专注玩码</p>
<p>偶尔想想诗和远方</p>
<p>给自己的生活种种草，记得按时拔。</p>
</blockquote>
<hr>
<blockquote>
<p>关于专业 </p>
</blockquote>
<ul>
<li style="list-style: none"><input type="checkbox"> <a href="http://www.bilibili.com/video/av9846610/" target="_blank" rel="external">Yaser Abu-Mostafa</a></li>
<li style="list-style: none"><input type="checkbox"> <a href="https://cn.udacity.com/course/deep-learning--ud730" target="_blank" rel="external">深度学习（中/英） | Udacity</a></li>
<li style="list-style: none"><input type="checkbox"> <a href="http://www.deeplearningbook.org" target="_blank" rel="external">GoodFellow</a></li>
<li style="list-style: none"><input type="checkbox"> Clean Code</li>
<li style="list-style: none"><input type="checkbox"> Thinking in Java</li>
<li style="list-style: none"><input type="checkbox"> <a href="http://elm-lang.org/" target="_blank" rel="external">Elm</a></li>
<li style="list-style: none"><input type="checkbox"> 算法</li>
<li style="list-style: none"><input type="checkbox"> Spider</li>
</ul>
<blockquote>
<p>关于兴趣</p>
</blockquote>
<ul>
<li style="list-style: none"><input type="checkbox"> 英文语法书</li>
<li style="list-style: none"><input type="checkbox"> 朗读者</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.jpeg"
               alt="Jade-Jade-Jade" />
          <p class="site-author-name" itemprop="name">Jade-Jade-Jade</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">17</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              
                <span class="site-state-item-count">8</span>
                <span class="site-state-item-name">分类</span>
              
            </div>
          

          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Jade-Jade-Jade</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Gemini
  </a>
</div>


        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.2"></script>



  
    <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  






  





  

  

  

  

  

  

</body>
</html>
